{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nexports.initLocation = initLocation;\nexports.validatePhoneNumber = validatePhoneNumber;\nexports.setPhoneNumber = setPhoneNumber;\nexports.phoneNumberWithDiallingCode = phoneNumberWithDiallingCode;\nexports.humanPhoneNumberWithDiallingCode = humanPhoneNumberWithDiallingCode;\nexports.humanLocation = humanLocation;\n\nvar _immutable = require('immutable');\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nvar _index = require('./index');\n\nvar _locations = require('./phone-number/locations');\n\nvar _locations2 = _interopRequireDefault(_locations);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar locationOptions = _immutable2.default.fromJS(_locations2.default.map(function (x) {\n  return {\n    country: x[0],\n    diallingCode: x[2],\n    isoCode: x[1],\n    label: x[2] + ' ' + x[1] + ' ' + x[0],\n    value: x[2] + ' ' + x[1]\n  };\n}));\n\nfunction findLocation(isoCode) {\n  return locationOptions.find(function (x) {\n    return x.get('isoCode') === isoCode;\n  });\n}\n\nfunction initLocation(m, isoCode) {\n  var location = findLocation(isoCode) || findLocation('US');\n  return (0, _index.registerOptionField)(m, 'location', locationOptions, location.get('value'));\n}\n\nfunction validatePhoneNumber(str) {\n  var regExp = /^[0-9]([0-9 -])*[0-9]$/;\n  return regExp.test(str);\n}\n\nfunction setPhoneNumber(m, str) {\n  return (0, _index.setField)(m, 'phoneNumber', str, validatePhoneNumber);\n}\n\nfunction phoneNumberWithDiallingCode(m) {\n  return humanPhoneNumberWithDiallingCode(m).replace(/[\\s-]+/g, '');\n}\n\nfunction humanPhoneNumberWithDiallingCode(m) {\n  var location = (0, _index.getField)(m, 'location');\n  var code = location.get('diallingCode', '');\n  var number = (0, _index.getFieldValue)(m, 'phoneNumber', '');\n  return code ? code + ' ' + number : number;\n}\n\nfunction humanLocation(m) {\n  var location = (0, _index.getField)(m, 'location');\n  return location.get('diallingCode') + ' ' + location.get('country');\n}","map":null,"metadata":{},"sourceType":"script"}