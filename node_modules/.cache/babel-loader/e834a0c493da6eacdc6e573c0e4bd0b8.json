{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nexports.renderEmailSentConfirmation = renderEmailSentConfirmation;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _success_pane = require('../../ui/box/success_pane');\n\nvar _success_pane2 = _interopRequireDefault(_success_pane);\n\nvar _actions = require('../../core/actions');\n\nvar _index = require('../../core/index');\n\nvar l = _interopRequireWildcard(_index);\n\nvar _index2 = require('../../field/index');\n\nvar c = _interopRequireWildcard(_index2);\n\nvar _actions2 = require('./actions');\n\nvar _index3 = require('./index');\n\nvar m = _interopRequireWildcard(_index3);\n\nvar _i18n = require('../../i18n');\n\nvar i18n = _interopRequireWildcard(_i18n);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n} // TODO: can't we get this from pops?\n\n\nvar retrySvg = '<svg focusable=\"false\" height=\"32px\" style=\"enable-background:new 0 0 32 32;\" version=\"1.1\" viewBox=\"0 0 32 32\" width=\"32px\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"> <path d=\"M27.877,19.662c0.385-1.23,0.607-2.531,0.607-3.884c0-7.222-5.83-13.101-13.029-13.194v4.238    c4.863,0.093,8.793,4.071,8.793,8.956c0,0.678-0.088,1.332-0.232,1.966l-3.963-1.966l2.76,8.199l8.197-2.762L27.877,19.662z\"></path> <path d=\"M7.752,16.222c0-0.678,0.088-1.332,0.232-1.967l3.963,1.967l-2.76-8.199L0.99,10.785l3.133,1.553    c-0.384,1.23-0.607,2.531-0.607,3.885c0,7.223,5.83,13.1,13.03,13.194v-4.238C11.682,25.086,7.752,21.107,7.752,16.222z\"></path> </svg>';\n\nvar ResendLink = function (_React$Component) {\n  _inherits(ResendLink, _React$Component);\n\n  function ResendLink() {\n    _classCallCheck(this, ResendLink);\n\n    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n  }\n\n  ResendLink.prototype.render = function render() {\n    var _props = this.props,\n        label = _props.label,\n        onClick = _props.onClick;\n    return _react2.default.createElement('a', {\n      className: 'auth0-lock-resend-link',\n      href: 'javascript:void(0)',\n      onClick: onClick\n    }, label, ' ', _react2.default.createElement('span', {\n      dangerouslySetInnerHTML: {\n        __html: retrySvg\n      }\n    }));\n  };\n\n  return ResendLink;\n}(_react2.default.Component);\n\nvar Resend = function (_React$Component2) {\n  _inherits(Resend, _React$Component2);\n\n  function Resend() {\n    _classCallCheck(this, Resend);\n\n    return _possibleConstructorReturn(this, _React$Component2.apply(this, arguments));\n  }\n\n  Resend.prototype.render = function render() {\n    var _props2 = this.props,\n        labels = _props2.labels,\n        lock = _props2.lock;\n\n    var resendLink = m.resendAvailable(lock) && _react2.default.createElement(ResendLink, {\n      onClick: this.handleClick.bind(this),\n      label: m.resendFailed(lock) ? labels.retry : labels.resend\n    });\n\n    var resendingLabel = m.resendOngoing(lock) && _react2.default.createElement('a', {\n      className: 'auth0-lock-resend-link'\n    }, labels.resending);\n\n    var resendSuccessLabel = m.resendSuccess(lock) && _react2.default.createElement('span', {\n      className: 'auth0-lock-sent-label'\n    }, labels.sent);\n\n    var resendFailedLabel = m.resendFailed(lock) && _react2.default.createElement('span', {\n      className: 'auth0-lock-sent-failed-label'\n    }, labels.failed);\n\n    return _react2.default.createElement('span', null, resendLink, resendingLabel, resendSuccessLabel, resendFailedLabel);\n  };\n\n  Resend.prototype.handleClick = function handleClick(e) {\n    e.preventDefault();\n    (0, _actions2.resendEmail)(l.id(this.props.lock));\n  };\n\n  return Resend;\n}(_react2.default.Component);\n\nvar EmailSentConfirmation = function (_React$Component3) {\n  _inherits(EmailSentConfirmation, _React$Component3);\n\n  function EmailSentConfirmation() {\n    _classCallCheck(this, EmailSentConfirmation);\n\n    return _possibleConstructorReturn(this, _React$Component3.apply(this, arguments));\n  }\n\n  EmailSentConfirmation.prototype.render = function render() {\n    var lock = this.props.lock;\n    var closeHandler = l.ui.closable(lock) ? this.handleClose.bind(this) : undefined;\n    var labels = {\n      failed: i18n.str(lock, 'failedLabel'),\n      resend: i18n.str(lock, 'resendLabel'),\n      resending: i18n.str(lock, 'resendingLabel'),\n      retry: i18n.str(lock, 'retryLabel'),\n      sent: i18n.str(lock, 'sentLabel')\n    };\n    return _react2.default.createElement(_success_pane2.default, {\n      lock: lock,\n      backHandler: this.handleBack.bind(this),\n      closeHandler: closeHandler\n    }, _react2.default.createElement('p', null, i18n.html(lock, ['success', 'magicLink'], c.email(lock))), _react2.default.createElement(Resend, {\n      labels: labels,\n      lock: lock\n    }));\n  };\n\n  EmailSentConfirmation.prototype.handleBack = function handleBack() {\n    (0, _actions2.restart)(l.id(this.props.lock));\n  };\n\n  EmailSentConfirmation.prototype.handleClose = function handleClose() {\n    (0, _actions.closeLock)(l.id(this.props.lock));\n  };\n\n  return EmailSentConfirmation;\n}(_react2.default.Component);\n\nexports.default = EmailSentConfirmation;\n\nfunction renderEmailSentConfirmation(lock) {\n  var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  props.key = 'auxiliarypane';\n  props.lock = lock;\n  return m.passwordlessStarted(lock) ? _react2.default.createElement(EmailSentConfirmation, props) : null;\n}","map":null,"metadata":{},"sourceType":"script"}