{"ast":null,"code":"import _regeneratorRuntime from \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/src/components/UsersForm/UserList.js\";\nimport React, { Component } from 'react';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Container, Table } from 'reactstrap';\nimport { Input, Checkbox, Button, Tag } from 'antd';\nimport notification from '../../components/notification';\nimport { Form } from 'antd';\nimport SignUpStyleWrapper from './Users.style';\nimport ValidaCPF from '../../helpers/Validacoes/ValidaCPF';\nimport WrappedFormWIthSubmissionButton from './addUser';\nimport { InputGroup } from '../../components/uielements/input';\nimport Select, { SelectOption } from '../../components/uielements/select';\nvar FormItem = Form.Item;\n\nvar UserList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserList, _Component);\n\n  function UserList() {\n    var _this;\n\n    _classCallCheck(this, UserList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserList).call(this));\n    _this.state = {\n      open: false,\n      disabled: false,\n      edit: false\n    };\n    return _this;\n  }\n\n  _createClass(UserList, [{\n    key: \"Desabilitar\",\n    value: function Desabilitar(id) {\n      console.log(id);\n      var userInfo = {\n        method: 'POST',\n        mode: 'cors',\n        body: JSON.stringify({\n          id: id\n        }),\n        headers: new Headers({\n          'Content-type': 'application/json'\n        })\n      };\n      fetch('http://localhost:5000/disable', userInfo).then(function (foi) {\n        if (foi.ok) {\n          notification('warning', 'Usuário Desabilitado!');\n          setTimeout(function () {\n            return window.location.reload();\n          }, 1000);\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch('http://localhost:5000/users').then(function (response) {\n        return response.json();\n      }).then(\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee(info) {\n          var data, list, _loop, i;\n\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  data = info.user;\n                  list = document.getElementById(\"table\");\n\n                  _loop = function _loop() {\n                    var tr = document.createElement('tr');\n\n                    if (data[i].ativo == true) {\n                      tr.setAttribute('class', 'disable');\n                    }\n\n                    list.appendChild(tr);\n                    var id = document.createElement('td');\n                    id.innerHTML = data[i].id_usuario;\n                    tr.appendChild(id);\n                    var nome = document.createElement('td');\n                    nome.innerHTML = data[i].nome;\n                    nome.addEventListener('dblclick', function () {\n                      return _this2.editLine(nome);\n                    });\n                    tr.appendChild(nome);\n                    var check = document.createElement('span');\n                    check.setAttribute('class', 'tag');\n                    check.innerHTML = data[i].usuarios_tipos;\n                    check.addEventListener('dblclick', function () {\n                      return _this2.setState({\n                        editTag: true\n                      });\n                    });\n                    tr.appendChild(check);\n                    var whatsapp = document.createElement('td');\n                    whatsapp.innerHTML = data[i].whatsapp;\n                    whatsapp.addEventListener('dblclick', function () {\n                      return _this2.editLine(whatsapp);\n                    });\n                    tr.appendChild(whatsapp);\n                    var cpf = document.createElement('td');\n                    cpf.innerHTML = data[i].cpf_cnpj;\n                    $(cpf).mask('000.000.000-00');\n                    cpf.addEventListener('dblclick', function () {\n                      return _this2.editLine(cpf);\n                    });\n                    tr.appendChild(cpf);\n                    var email = document.createElement('td');\n                    email.innerHTML = data[i].email;\n                    email.addEventListener('dblclick', function () {\n                      return _this2.editLine(email);\n                    });\n                    tr.appendChild(email);\n                    var edit = document.createElement('Button');\n                    edit.setAttribute('class', 'ion-edit');\n                    edit.setAttribute('id', data[i].id);\n                    edit.addEventListener('click', function () {\n                      return _this2.setState({\n                        edit: true\n                      });\n                    });\n                    tr.appendChild(edit);\n                    var remove = document.createElement('Button');\n                    remove.setAttribute(\"class\", \"ion-android-delete\");\n                    remove.setAttribute(\"id\", data[i].id_usuario);\n                    remove.addEventListener(\"click\", function () {\n                      return _this2.Desabilitar(remove.id);\n                    });\n                    tr.appendChild(remove);\n                  };\n\n                  for (i = 0; i <= data.length; i++) {\n                    _loop();\n                  }\n\n                case 4:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }()).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"editLine\",\n    value: function editLine(tag) {\n      var conteudoOriginal = $(tag).text();\n      $(tag).addClass(\"celulaEmEdicao\");\n      $(tag).html(\"<input type='text' value='\" + conteudoOriginal + \"' />\");\n      $(tag).children().first().focus();\n      $(tag).children().first().keypress(function (e) {\n        if (e.which == 13) {\n          var novoConteudo = $(tag).val();\n          $(tag).parent().text(novoConteudo);\n        }\n      });\n    }\n  }, {\n    key: \"envia\",\n    value: function envia() {\n      var nome = document.getElementById('nome').value;\n      var cpf = document.getElementById('cpf').value;\n      var password = document.getElementById('password').value;\n      var email = document.getElementById('email').value;\n      var whatsapp = document.getElementById('whatsapp').value;\n      var usuario = document.getElementById('usuario').value;\n      var TGadmin = document.getElementById('TGadmin');\n      var TGroot = document.getElementById('TGroot');\n      var marcado = null;\n\n      if (TGadmin.checked) {\n        marcado = 'Admin';\n      } else {\n        marcado = 'Root';\n      }\n\n      var requestInfo = {\n        method: 'POST',\n        mode: 'cors',\n        body: JSON.stringify({\n          id_tipo: 1,\n          cpf_cnpj: cpf,\n          nome: nome,\n          usuario: usuario,\n          senha: password,\n          email: email,\n          whatsapp: whatsapp,\n          usuarios_tipos: marcado\n        }),\n        headers: new Headers({\n          'Content-type': 'application/json'\n        })\n      };\n      fetch('http://localhost:5000/addAdmin', requestInfo).then(function (response) {\n        if (response.ok) {\n          response.text();\n          return notification('success', 'Usuário Cadastrado!');\n        }\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"canSubmit\",\n    value: function canSubmit() {\n      var nome = document.getElementById('nome').value;\n      var cpf = document.getElementById('cpf').value;\n      var password = document.getElementById('password').value;\n      var email = document.getElementById('email').value;\n      var whatsapp = document.getElementById('whatsapp').value;\n      var validar = new ValidaCPF();\n      var envia = new UserList();\n\n      if (cpf === '' || nome === '' || password === '' || email === '' || whatsapp === '') {\n        return notification('warning', 'Todos os campos devem estar preenchidos!');\n      } else if (validar.ValidarCPF(cpf) === true) {\n        envia.envia();\n        window.location.reload();\n      } else {\n        return notification('error', 'CPF Inválido');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var Option = SelectOption;\n      return React.createElement(SignUpStyleWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(Table, {\n        striped: true,\n        bordered: true,\n        hover: true,\n        variant: \"dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, \"#\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, \"Nome\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, \"Tag\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, \"CPF\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, \"Whatsapp\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }))), React.createElement(\"tbody\", {\n        id: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        id: \"oi\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }), React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        isOpen: this.state.open,\n        scrollable: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, \" Adicionar Usu\\xE1rio \"), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, React.createElement(WrappedFormWIthSubmissionButton, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }), React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, React.createElement(Checkbox, {\n        id: \"TGadmin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, \"Admin\"), React.createElement(Checkbox, {\n        id: \"TGroot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }, \"Root\"), React.createElement(Checkbox, {\n        id: \"TGads\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, \"ADS\"))), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        onClick: this.canSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, \" Adicionar \"), React.createElement(Button, {\n        onClick: function onClick() {\n          return _this3.setState({\n            open: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, \" Cancelar \")))), React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        isOpen: this.state.editTag,\n        scrollable: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, \" Editar Tag \"), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, React.createElement(Button, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }, \"aaaa\"), React.createElement(Button, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, \"bbbb\"), React.createElement(Button, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, \"cccc\")), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        onClick: console.log('aaa'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }, \" Adicionar \"), React.createElement(Button, {\n        onClick: function onClick() {\n          return _this3.setState({\n            editTag: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, \" Cancelar \")))), React.createElement(Button, {\n        onClick: function onClick() {\n          return _this3.setState({\n            open: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, \"Adicionar Usu\\xE1rio\"));\n    }\n  }]);\n\n  return UserList;\n}(Component);\n\nexport { UserList as default };","map":{"version":3,"sources":["/home/leonardo_freitas/Desktop/Programação/MetasCertas/src/components/UsersForm/UserList.js"],"names":["React","Component","Modal","ModalHeader","ModalBody","ModalFooter","Container","Table","Input","Checkbox","Button","Tag","notification","Form","SignUpStyleWrapper","ValidaCPF","WrappedFormWIthSubmissionButton","InputGroup","Select","SelectOption","FormItem","Item","UserList","state","open","disabled","edit","id","console","log","userInfo","method","mode","body","JSON","stringify","headers","Headers","fetch","then","foi","ok","setTimeout","window","location","reload","catch","err","response","json","info","data","user","list","document","getElementById","tr","createElement","i","ativo","setAttribute","appendChild","innerHTML","id_usuario","nome","addEventListener","editLine","check","usuarios_tipos","setState","editTag","whatsapp","cpf","cpf_cnpj","$","mask","email","remove","Desabilitar","length","tag","conteudoOriginal","text","addClass","html","children","first","focus","keypress","e","which","novoConteudo","val","parent","value","password","usuario","TGadmin","TGroot","marcado","checked","requestInfo","id_tipo","senha","validar","envia","ValidarCPF","Option","canSubmit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Container, Table } from 'reactstrap'\nimport { Input, Checkbox, Button, Tag } from 'antd';\nimport notification from '../../components/notification';\nimport { Form } from 'antd';\nimport SignUpStyleWrapper from './Users.style';\nimport ValidaCPF from '../../helpers/Validacoes/ValidaCPF'\nimport WrappedFormWIthSubmissionButton from './addUser';\nimport { InputGroup } from '../../components/uielements/input';\nimport Select, { SelectOption } from '../../components/uielements/select';\n\nconst FormItem = Form.Item;\n\n\n\nexport default class UserList extends Component {\n    \nconstructor(){\n    super()\n    this.state = {\n        open: false,\n        disabled: false,\n        edit: false,\n    };\n    \n}\n\n\nDesabilitar(id){\n  console.log(id)\n  var userInfo = {\n    method: 'POST',\n    mode:'cors',\n    body: JSON.stringify({ \n      id: id\n     }),\n     headers: new Headers({\n      'Content-type':'application/json'\n    })\n  }\n\n  fetch('http://localhost:5000/disable', userInfo).then( foi =>{\n    if(foi.ok){\n      notification('warning', 'Usuário Desabilitado!')\n      setTimeout(() => window.location.reload(), 1000)\n        \n       \n      }\n  }).catch(err => {\n    console.log(err)\n  })\n  }\n  \n\ncomponentDidMount(){\n   \n\n    fetch('http://localhost:5000/users')\n    .then(response => response.json())\n        .then( async info => {\n\n          \n          \n        let data = info.user;\n       \n        const list = document.getElementById(\"table\")\n        \n            \n        for(var i = 0; i <= data.length; i++){\n            const tr = document.createElement('tr')\n\n            if(data[i].ativo == true){\n              tr.setAttribute('class', 'disable')\n              \n              \n\n            }\n            \n            list.appendChild(tr);\n            \n            const id = document.createElement('td')\n            id.innerHTML = data[i].id_usuario\n\n            tr.appendChild(id)\n\n            const nome = document.createElement('td')\n            \n            nome.innerHTML = data[i].nome;\n            nome.addEventListener('dblclick', () => this.editLine(nome))\n            tr.appendChild(nome)\n            \n\n            const check = document.createElement('span');\n\n            check.setAttribute('class', 'tag')\n            check.innerHTML = data[i].usuarios_tipos\n            check.addEventListener('dblclick', () => this.setState({ editTag: true }))\n            tr.appendChild(check)\n\n            const whatsapp = document.createElement('td')\n            whatsapp.innerHTML = data[i].whatsapp;\n            whatsapp.addEventListener('dblclick', () => this.editLine(whatsapp))\n            tr.appendChild(whatsapp)\n\n            const cpf = document.createElement('td')\n            cpf.innerHTML =  data[i].cpf_cnpj;\n            $(cpf).mask('000.000.000-00')\n            cpf.addEventListener('dblclick', () => this.editLine(cpf))\n            tr.appendChild(cpf)\n            \n           \n            const email = document.createElement('td')\n            email.innerHTML = data[i].email;\n            email.addEventListener('dblclick', () => this.editLine(email))\n            tr.appendChild(email) \n            \n            \n            \n            const edit = document.createElement('Button');\n            edit.setAttribute('class', 'ion-edit');\n            edit.setAttribute('id', data[i].id);\n            edit.addEventListener('click', () => this.setState({ edit: true }))\n            \n            tr.appendChild(edit)\n\n\n            const remove = document.createElement('Button');\n            remove.setAttribute(\"class\", \"ion-android-delete\")\n         \n            remove.setAttribute(\"id\", data[i].id_usuario);\n            \n            remove.addEventListener(\"click\", () => this.Desabilitar(remove.id))\n            \n            tr.appendChild(remove)\n            \n            \n            \n            \n        }\n      \n            \n        })\n        .catch(err => {\n            console.log(err)\n        })\n}\n\neditLine(tag){\n  \n        var conteudoOriginal = $(tag).text();\n\n        $(tag).addClass(\"celulaEmEdicao\");\n        $(tag).html(\"<input type='text' value='\" + conteudoOriginal + \"' />\");\n        $(tag).children().first().focus();\n \n        $(tag).children().first().keypress(function (e) {\n            if (e.which == 13) {\n                var novoConteudo = $(tag).val();\n                $(tag).parent().text(novoConteudo);\n            }\n        });\n\n        \n}\n\n\nenvia(){\n  \n\n  const nome = document.getElementById('nome').value\n  const cpf = document.getElementById('cpf').value\n  const password = document.getElementById('password').value\n  const email = document.getElementById('email').value\n  const whatsapp = document.getElementById('whatsapp').value\n  const usuario = document.getElementById('usuario').value\n  const TGadmin = document.getElementById('TGadmin');\n  const TGroot = document.getElementById('TGroot');\n  let marcado = null\n\n    if(TGadmin.checked){\n      marcado = 'Admin'\n    }else{\n      marcado = 'Root'\n    }\n    const requestInfo = {\n      \n      method: 'POST',\n      mode:'cors',\n      body: JSON.stringify({\n        id_tipo: 1,\n        cpf_cnpj: cpf,\n        nome: nome,\n        usuario: usuario,\n        senha: password,\n        email: email,\n        whatsapp: whatsapp,\n        usuarios_tipos: marcado\n       }),\n       headers: new Headers({\n        'Content-type':'application/json'\n      })\n    }\n  \n    fetch('http://localhost:5000/addAdmin', requestInfo)\n    \n    .then(response => {\n      if(response.ok){\n        response.text()\n        \n        return notification('success', 'Usuário Cadastrado!')\n       \n      }\n    }).catch(err =>{\n      return console.log(err)\n    })\n    \n  }\n\n\n  canSubmit(){\n\n  \n  const nome = document.getElementById('nome').value\n  const cpf = document.getElementById('cpf').value\n  const password = document.getElementById('password').value\n  const email = document.getElementById('email').value\n  const whatsapp = document.getElementById('whatsapp').value\n  \n\n\n\n    const validar = new ValidaCPF();\n    const envia = new UserList()\n    if(cpf === '' || nome === ''|| password === ''|| email === '' || whatsapp === ''){\n      return notification('warning', 'Todos os campos devem estar preenchidos!')\n    }\n    else if(validar.ValidarCPF(cpf) === true){\n\n        envia.envia()\n      window.location.reload()\n\n    }else{\n      return notification('error','CPF Inválido')\n\n    }\n  }\n  \n    render(){\n\n      const Option = SelectOption;\n    \n        return ( \n            <SignUpStyleWrapper>\n<div>\n<Table striped bordered hover variant=\"dark\">\n  <thead>\n    <tr>\n      <th>#</th>\n      <th>Nome</th>\n      <th>Tag</th>\n      <th>CPF</th>\n      <th>Whatsapp</th>\n      <th>Email</th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody id='table'>\n\n  </tbody>\n</Table>\n      \n      </div>\n     <div id='oi'></div>\n\n      <Container> \n\n         \n\n\n\n\n       <Modal isOpen={this.state.open} scrollable={true}>\n           <ModalHeader > Adicionar Usuário </ModalHeader>\n           <ModalBody > \n           <WrappedFormWIthSubmissionButton/>\n           <Form >\n <Checkbox id=\"TGadmin\">Admin</Checkbox>\n   <Checkbox id=\"TGroot\">Root</Checkbox>\n   <Checkbox id=\"TGads\">ADS</Checkbox>\n            </Form>\n           </ModalBody>\n           <ModalFooter > \n               <Button type='primary' onClick={this.canSubmit}> Adicionar </Button>\n               \n               <Button onClick={() => this.setState({ open: false })}> Cancelar </Button>\n           </ModalFooter>\n       </Modal>\n\n       </Container>\n\n          <Container>\n          <Modal isOpen={this.state.editTag} scrollable={true}>\n          <ModalHeader > Editar Tag </ModalHeader>\n          <ModalBody > \n            <Button>aaaa</Button>\n            <Button>bbbb</Button>\n            <Button>cccc</Button>\n\n          </ModalBody>\n          <ModalFooter > \n               <Button type='primary' onClick={console.log('aaa')}> Adicionar </Button>\n               \n               <Button onClick={() => this.setState({ editTag: false })}> Cancelar </Button>\n           </ModalFooter>\n          </Modal>\n          </Container>\n\n\n\n       <Button  onClick={() => this.setState({ open: true })}>Adicionar Usuário</Button>\n      </SignUpStyleWrapper>\n      \n        \n        )\n                    \n    }\n}"]},"metadata":{},"sourceType":"module"}