{"ast":null,"code":"import _regeneratorRuntime from \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/src/components/UsersForm/UserList.js\";\nimport React, { Component } from 'react';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Container, Table } from 'reactstrap';\nimport { Input, Checkbox, Button } from 'antd';\nimport notification from '../../components/notification';\nimport { Form } from 'antd';\nimport SignUpStyleWrapper from './Users.style';\nimport ValidaCPF from '../../helpers/Validacoes/ValidaCPF';\nimport WrappedFormWIthSubmissionButton from './addUser';\nimport { InputGroup } from '../../components/uielements/input';\nimport Select, { SelectOption } from '../../components/uielements/select';\nvar FormItem = Form.Item;\n\nvar UserList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserList, _Component);\n\n  function UserList() {\n    var _this;\n\n    _classCallCheck(this, UserList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserList).call(this));\n    _this.state = {\n      open: false,\n      disabled: false,\n      edit: false\n    };\n    return _this;\n  }\n\n  _createClass(UserList, [{\n    key: \"Desabilitar\",\n    value: function Desabilitar(id) {\n      console.log(id);\n      var userInfo = {\n        method: 'POST',\n        mode: 'cors',\n        body: JSON.stringify({\n          id: id\n        }),\n        headers: new Headers({\n          'Content-type': 'application/json'\n        })\n      };\n      fetch('http://localhost:5000/disable', userInfo).then(function (foi) {\n        if (foi.ok) {\n          notification('warning', 'Usuário Desabilitado!');\n          setTimeout(function () {\n            return window.location.reload();\n          }, 1000);\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch('http://localhost:5000/users').then(function (response) {\n        return response.json();\n      }).then(\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee(info) {\n          var data, list, _loop, i;\n\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  data = info.user;\n                  console.log(data[1]);\n                  list = document.getElementById(\"table\");\n\n                  _loop = function _loop() {\n                    var tr = document.createElement('tr');\n\n                    if (data[i].ativo == true) {\n                      tr.setAttribute('class', 'disable');\n                    }\n\n                    list.appendChild(tr);\n                    var id = document.createElement('td');\n                    id.innerHTML = data[i].id_usuario;\n                    tr.appendChild(id);\n                    var nome = document.createElement('td');\n                    nome.innerHTML = data[i].nome;\n                    tr.appendChild(nome);\n                    var check = document.createElement('span');\n                    check.setAttribute('class', 'tag');\n                    check.innerHTML = data[i].id_usuario;\n                    tr.appendChild(check);\n                    var whatsapp = document.createElement('td');\n                    whatsapp.innerHTML = data[i].whatsapp;\n                    tr.appendChild(whatsapp);\n                    var cpf = document.createElement('td');\n                    cpf.innerHTML = data[i].cpf_cnpj;\n                    tr.appendChild(cpf);\n                    var email = document.createElement('td');\n                    email.innerHTML = data[i].email;\n                    tr.appendChild(email);\n                    var edit = document.createElement('Button');\n                    edit.setAttribute('class', 'ion-edit');\n                    edit.setAttribute('id', data[i].id);\n                    edit.addEventListener('click', function () {\n                      return _this2.setState({\n                        edit: true\n                      });\n                    });\n                    tr.appendChild(edit);\n                    var remove = document.createElement('Button');\n                    remove.setAttribute(\"class\", \"ion-android-delete\");\n                    remove.setAttribute(\"id\", data[i].id_usuario);\n                    remove.addEventListener(\"click\", function () {\n                      return _this2.Desabilitar(remove.id);\n                    });\n                    tr.appendChild(remove);\n                  };\n\n                  for (i = 0; i <= data.length; i++) {\n                    _loop();\n                  }\n\n                case 5:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }()).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"deletar\",\n    value: function deletar() {}\n  }, {\n    key: \"envia\",\n    value: function envia(event) {\n      var nome = document.getElementById('nome').value;\n      var cpf = document.getElementById('cpf').value;\n      var password = document.getElementById('password').value;\n      var email = document.getElementById('email').value;\n      var whatsapp = document.getElementById('whatsapp').value;\n      var usuario = document.getElementById('usuario').value;\n      console.log(event);\n      var requestInfo = {\n        method: 'POST',\n        mode: 'cors',\n        body: JSON.stringify({\n          id_tipo: event,\n          cpf_cnpj: cpf,\n          nome: nome,\n          usuario: usuario,\n          senha: password,\n          email: email,\n          whatsapp: whatsapp\n        }),\n        headers: new Headers({\n          'Content-type': 'application/json'\n        })\n      };\n      fetch('http://localhost:5000/addAdmin', requestInfo).then(function (response) {\n        if (response.ok) {\n          response.text();\n          return notification('success', 'Usuário Cadastrado!');\n        }\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"canSubmit\",\n    value: function canSubmit(tipo) {\n      var nome = document.getElementById('nome').value;\n      var cpf = document.getElementById('cpf').value;\n      var password = document.getElementById('password').value;\n      var email = document.getElementById('email').value;\n      var whatsapp = document.getElementById('whatsapp').value;\n      var validar = new ValidaCPF();\n      var envia = new UserList();\n\n      if (cpf === '' || nome === '' || password === '' || email === '' || whatsapp === '') {\n        return notification('warning', 'Todos os campos devem estar preenchidos!');\n      } else if (validar.ValidarCPF(cpf) === true) {\n        envia.envia(tipo);\n        window.location.reload();\n      } else {\n        return notification('error', 'CPF Inválido');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var Option = SelectOption;\n      return React.createElement(SignUpStyleWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(Table, {\n        striped: true,\n        bordered: true,\n        hover: true,\n        variant: \"dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, \"#\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, \"Nome\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, \"Tag\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, \"CPF\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, \"Whatsapp\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }))), React.createElement(\"tbody\", {\n        id: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        id: \"oi\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }), React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        isOpen: this.state.edit,\n        scrollable: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, \" Editar Usu\\xE1rio \"), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(WrappedFormWIthSubmissionButton, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }), React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(InputGroup, {\n        compact: true,\n        style: {\n          marginBottom: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(Select, {\n        defaultValue: \"Tipo de Usu\\xE1rio\",\n        id: \"iu\",\n        onChange: this.canSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(Option, {\n        value: \"Root\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, \"Root\"), React.createElement(Option, {\n        value: \"Admin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, \"Admin\"))))), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        onClick: this.canSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, \" Adicionar \"), React.createElement(Button, {\n        onClick: function onClick() {\n          return _this3.setState({\n            edit: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \" Cancelar \"))), React.createElement(Modal, {\n        isOpen: this.state.open,\n        scrollable: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, \" Adicionar Usu\\xE1rio \"), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(WrappedFormWIthSubmissionButton, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }), React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, React.createElement(InputGroup, {\n        compact: true,\n        style: {\n          marginBottom: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, React.createElement(Select, {\n        defaultValue: \"Tipo de Usu\\xE1rio\",\n        id: \"iu\",\n        onChange: this.canSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, React.createElement(Option, {\n        value: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, \"Root\"), React.createElement(Option, {\n        value: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, \"Admin\"))))), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        onClick: this.canSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, \" Adicionar \"), React.createElement(Button, {\n        onClick: function onClick() {\n          return _this3.setState({\n            open: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }, \" Cancelar \")))), React.createElement(Button, {\n        onClick: function onClick() {\n          return _this3.setState({\n            open: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, \"Adicionar Usu\\xE1rio\"));\n    }\n  }]);\n\n  return UserList;\n}(Component);\n\nexport { UserList as default };","map":{"version":3,"sources":["/home/leonardo_freitas/Desktop/Programação/MetasCertas/src/components/UsersForm/UserList.js"],"names":["React","Component","Modal","ModalHeader","ModalBody","ModalFooter","Container","Table","Input","Checkbox","Button","notification","Form","SignUpStyleWrapper","ValidaCPF","WrappedFormWIthSubmissionButton","InputGroup","Select","SelectOption","FormItem","Item","UserList","state","open","disabled","edit","id","console","log","userInfo","method","mode","body","JSON","stringify","headers","Headers","fetch","then","foi","ok","setTimeout","window","location","reload","catch","err","response","json","info","data","user","list","document","getElementById","tr","createElement","i","ativo","setAttribute","appendChild","innerHTML","id_usuario","nome","check","whatsapp","cpf","cpf_cnpj","email","addEventListener","setState","remove","Desabilitar","length","event","value","password","usuario","requestInfo","id_tipo","senha","text","tipo","validar","envia","ValidarCPF","Option","marginBottom","canSubmit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Container, Table } from 'reactstrap'\nimport { Input, Checkbox, Button } from 'antd';\nimport notification from '../../components/notification';\nimport { Form } from 'antd';\nimport SignUpStyleWrapper from './Users.style';\nimport ValidaCPF from '../../helpers/Validacoes/ValidaCPF'\nimport WrappedFormWIthSubmissionButton from './addUser';\nimport { InputGroup } from '../../components/uielements/input';\n\nimport Select, { SelectOption } from '../../components/uielements/select';\n\nconst FormItem = Form.Item;\n\n\n\nexport default class UserList extends Component {\n\n\nconstructor(){\n    super()\n    this.state = {\n        open: false,\n        disabled: false,\n        edit: false,\n    };\n    \n}\n\n\nDesabilitar(id){\n  console.log(id)\n  var userInfo = {\n    method: 'POST',\n    mode:'cors',\n    body: JSON.stringify({ \n      id: id\n     }),\n     headers: new Headers({\n      'Content-type':'application/json'\n    })\n  }\n\n  fetch('http://localhost:5000/disable', userInfo).then( foi =>{\n    if(foi.ok){\n      notification('warning', 'Usuário Desabilitado!')\n      setTimeout(() => window.location.reload(), 1000)\n        \n       \n      }\n  }).catch(err => {\n    console.log(err)\n  })\n  }\n  \n\ncomponentDidMount(){\n   \n\n    fetch('http://localhost:5000/users')\n    .then(response => response.json())\n        .then( async info => {\n\n          \n          \n        let data = info.user;\n       console.log(data[1])\n        const list = document.getElementById(\"table\")\n        \n            \n        for(var i = 0; i <= data.length; i++){\n            const tr = document.createElement('tr')\n\n            if(data[i].ativo == true){\n              tr.setAttribute('class', 'disable')\n              \n              \n\n            }\n            \n            list.appendChild(tr);\n            \n            const id = document.createElement('td')\n            id.innerHTML = data[i].id_usuario\n            tr.appendChild(id)\n            const nome = document.createElement('td')\n            \n            nome.innerHTML = data[i].nome;\n            tr.appendChild(nome)\n            \n\n            const check = document.createElement('span');\n\n            check.setAttribute('class', 'tag')\n            check.innerHTML = data[i].id_usuario\n            tr.appendChild(check)\n\n            const whatsapp = document.createElement('td')\n            whatsapp.innerHTML = data[i].whatsapp;\n            tr.appendChild(whatsapp)\n\n            const cpf = document.createElement('td')\n            cpf.innerHTML =  data[i].cpf_cnpj;\n            tr.appendChild(cpf)\n            \n           \n            const email = document.createElement('td')\n            email.innerHTML = data[i].email;\n            tr.appendChild(email) \n            \n            \n            \n            const edit = document.createElement('Button');\n            edit.setAttribute('class', 'ion-edit');\n            edit.setAttribute('id', data[i].id);\n            edit.addEventListener('click', () => this.setState({ edit: true }))\n            \n            tr.appendChild(edit)\n\n\n            const remove = document.createElement('Button');\n            remove.setAttribute(\"class\", \"ion-android-delete\")\n         \n            remove.setAttribute(\"id\", data[i].id_usuario);\n            \n            remove.addEventListener(\"click\", () => this.Desabilitar(remove.id))\n            \n            tr.appendChild(remove)\n            \n            \n            \n            \n        }\n      \n            \n        })\n        .catch(err => {\n            console.log(err)\n        })\n}\ndeletar(){\n\n}\nenvia(event){\n  \n\n  const nome = document.getElementById('nome').value\n  const cpf = document.getElementById('cpf').value\n  const password = document.getElementById('password').value\n  const email = document.getElementById('email').value\n  const whatsapp = document.getElementById('whatsapp').value\n  const usuario = document.getElementById('usuario').value\n\n\nconsole.log(event)\n    const requestInfo = {\n      \n      method: 'POST',\n      mode:'cors',\n      body: JSON.stringify({\n        id_tipo: event,\n        cpf_cnpj: cpf,\n        nome: nome,\n        usuario: usuario,\n        senha: password,\n        email: email,\n        whatsapp: whatsapp,\n       }),\n       headers: new Headers({\n        'Content-type':'application/json'\n      })\n    }\n  \n    fetch('http://localhost:5000/addAdmin', requestInfo)\n    \n    .then(response => {\n      if(response.ok){\n        response.text()\n        \n        return notification('success', 'Usuário Cadastrado!')\n       \n      }\n    }).catch(err =>{\n      return console.log(err)\n    })\n    \n  }\n\n\n  canSubmit(tipo){\n\n  \n  const nome = document.getElementById('nome').value\n  const cpf = document.getElementById('cpf').value\n  const password = document.getElementById('password').value\n  const email = document.getElementById('email').value\n  const whatsapp = document.getElementById('whatsapp').value\n\n    const validar = new ValidaCPF();\n    const envia = new UserList()\n    if(cpf === '' || nome === ''|| password === ''|| email === '' || whatsapp === ''){\n      return notification('warning', 'Todos os campos devem estar preenchidos!')\n    }\n    else if(validar.ValidarCPF(cpf) === true){\n\n        envia.envia(tipo)\n      window.location.reload()\n\n    }else{\n      return notification('error','CPF Inválido')\n\n    }\n  }\n  \n    render(){\n\n      const Option = SelectOption;\n    \n        return ( \n            <SignUpStyleWrapper>\n<div>\n<Table striped bordered hover variant=\"dark\">\n  <thead>\n    <tr>\n      <th>#</th>\n      <th>Nome</th>\n      <th>Tag</th>\n      <th>CPF</th>\n      <th>Whatsapp</th>\n      <th>Email</th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody id='table'>\n\n  </tbody>\n</Table>\n      \n      </div>\n     <div id='oi'></div>\n\n      <Container> \n\n          <Modal isOpen={this.state.edit} scrollable={true}>\n           <ModalHeader > Editar Usuário </ModalHeader>\n           <ModalBody > \n           <WrappedFormWIthSubmissionButton/>\n           <Form >\n           <InputGroup compact style={{ marginBottom: '15px' }}>   \n                  <Select defaultValue=\"Tipo de Usuário\" id='iu'onChange={this.canSubmit}>\n                    <Option value=\"Root\">Root</Option>             \n                    <Option  value=\"Admin\">Admin</Option>\n                  </Select>\n                   \n\n              </InputGroup>    \n                \n           </Form>\n           </ModalBody>\n           <ModalFooter > \n               <Button type='primary' onClick={this.canSubmit}> Adicionar </Button>\n               \n               <Button onClick={() => this.setState({ edit: false })}> Cancelar </Button>\n           </ModalFooter>\n       </Modal>\n\n\n\n\n       <Modal isOpen={this.state.open} scrollable={true}>\n           <ModalHeader > Adicionar Usuário </ModalHeader>\n           <ModalBody > \n           <WrappedFormWIthSubmissionButton/>\n           <Form >\n           <InputGroup compact style={{ marginBottom: '15px' }}>   \n                  <Select defaultValue=\"Tipo de Usuário\" id='iu'onChange={this.canSubmit}>\n                    <Option value=\"1\">Root</Option>             \n                    <Option  value=\"2\">Admin</Option>\n                  </Select>\n                   \n\n              </InputGroup>   \n                </Form>\n           </ModalBody>\n           <ModalFooter > \n               <Button type='primary' onClick={this.canSubmit}> Adicionar </Button>\n               \n               <Button onClick={() => this.setState({ open: false })}> Cancelar </Button>\n           </ModalFooter>\n       </Modal>\n\n       </Container>\n       <Button  onClick={() => this.setState({ open: true })}>Adicionar Usuário</Button>\n      </SignUpStyleWrapper>\n      \n        \n        )\n                    \n    }\n}"]},"metadata":{},"sourceType":"module"}