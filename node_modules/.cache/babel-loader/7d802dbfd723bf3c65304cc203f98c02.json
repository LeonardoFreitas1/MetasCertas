{"ast":null,"code":"import _regeneratorRuntime from \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/leonardo_freitas/Desktop/Programa\\xE7\\xE3o/MetasCertas/src/components/UsersForm/UserList.js\";\nimport React, { Component } from 'react';\nimport intlMessages from '../utility/intlMessages';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Container } from 'reactstrap';\nimport { Input, Checkbox, Button } from 'antd';\nimport notification from '../../components/notification';\nimport { Form } from 'antd';\nimport SignUpStyleWrapper from './Users.style';\nimport ValidaCPF from '../../helpers/Validacoes/ValidaCPF';\nimport WrappedFormWIthSubmissionButton from './addUser';\nimport { InputGroup } from '../../components/uielements/input';\nimport Select, { SelectOption } from '../../components/uielements/select';\nvar FormItem = Form.Item;\n\nvar UserList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserList, _Component);\n\n  function UserList() {\n    var _this;\n\n    _classCallCheck(this, UserList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserList).call(this));\n    _this.state = {\n      open: false,\n      disabled: false,\n      edit: false\n    };\n    return _this;\n  }\n\n  _createClass(UserList, [{\n    key: \"Desabilitar\",\n    value: function Desabilitar(id) {\n      console.log(id);\n      var userInfo = {\n        method: 'POST',\n        mode: 'cors',\n        body: JSON.stringify({\n          id: id\n        }),\n        headers: new Headers({\n          'Content-type': 'application/json'\n        })\n      };\n      fetch('http://localhost:5000/disable', userInfo).then(function (foi) {\n        if (foi.ok) {\n          notification('warning', 'Usuário Desabilitado!');\n          setTimeout(function () {\n            return window.location.reload();\n          }, 1000);\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch('http://localhost:5000/users').then(function (response) {\n        return response.json();\n      }).then(\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee(info) {\n          var a, admin, data, list, _loop, i;\n\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  a = document.getElementsByClassName(\"cha\");\n                  admin = false;\n\n                  if (!a.checked) {\n                    _context.next = 4;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", admin = true);\n\n                case 4:\n                  data = info.user;\n                  list = document.getElementById(\"table\");\n\n                  _loop = function _loop() {\n                    var tr = document.createElement('tr');\n\n                    if (data[i].ativo == true) {\n                      tr.setAttribute('class', 'disable');\n                    }\n\n                    list.appendChild(tr);\n                    var nome = document.createElement('td');\n                    nome.innerHTML = data[i].nome;\n                    tr.appendChild(nome);\n                    var check = document.createElement('span');\n                    check.setAttribute('class', 'tag');\n                    check.innerHTML = data[i].id_tipo;\n                    tr.appendChild(check);\n                    var whatsapp = document.createElement('td');\n                    whatsapp.innerHTML = data[i].whatsapp;\n                    tr.appendChild(whatsapp);\n                    var cpf = document.createElement('td');\n                    cpf.innerHTML = data[i].cpf_cnpj;\n                    tr.appendChild(cpf);\n                    var email = document.createElement('td');\n                    email.innerHTML = data[i].email;\n                    tr.appendChild(email);\n                    var edit = document.createElement('i');\n                    edit.setAttribute('class', 'ion-edit');\n                    edit.setAttribute('type', 'button');\n                    edit.setAttribute('id', data[i].id);\n                    edit.addEventListener('click', function () {\n                      return _this2.setState({\n                        edit: true\n                      });\n                    });\n                    tr.appendChild(edit);\n                    var remove = document.createElement('i');\n                    remove.setAttribute(\"class\", \"ion-android-delete\");\n                    remove.setAttribute('type', 'button');\n                    remove.setAttribute(\"id\", data[i].id_usuario);\n                    remove.addEventListener(\"click\", function () {\n                      return _this2.Desabilitar(remove.id);\n                    });\n                    tr.appendChild(remove);\n                  };\n\n                  for (i = 0; i <= data.length; i++) {\n                    _loop();\n                  }\n\n                case 8:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }()).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"deletar\",\n    value: function deletar() {}\n  }, {\n    key: \"envia\",\n    value: function envia(event) {\n      var nome = document.getElementById('nome').value;\n      var cpf = document.getElementById('cpf').value;\n      var password = document.getElementById('password').value;\n      var email = document.getElementById('email').value;\n      var whatsapp = document.getElementById('whatsapp').value;\n      var usuario = document.getElementById('usuario').value;\n      console.log(event);\n      var requestInfo = {\n        method: 'POST',\n        mode: 'cors',\n        body: JSON.stringify({\n          id_tipo: event,\n          cpf_cnpj: cpf,\n          nome: nome,\n          usuario: usuario,\n          senha: password,\n          email: email,\n          whatsapp: whatsapp\n        }),\n        headers: new Headers({\n          'Content-type': 'application/json'\n        })\n      };\n      fetch('http://localhost:5000/addAdmin', requestInfo).then(function (response) {\n        if (response.ok) {\n          response.text();\n          return notification('success', 'Usuário Cadastrado!');\n        }\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"canSubmit\",\n    value: function canSubmit(tipo) {\n      var nome = document.getElementById('nome').value;\n      var cpf = document.getElementById('cpf').value;\n      var password = document.getElementById('password').value;\n      var email = document.getElementById('email').value;\n      var whatsapp = document.getElementById('whatsapp').value;\n      var validar = new ValidaCPF();\n      var envia = new UserList();\n\n      if (cpf === '' || nome === '' || password === '' || email === '' || whatsapp === '') {\n        return notification('warning', 'Todos os campos devem estar preenchidos!');\n      } else if (validar.ValidarCPF(cpf) === true) {\n        envia.envia(tipo);\n        window.location.reload();\n      } else {\n        return notification('error', 'CPF Inválido');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var Option = SelectOption;\n      return React.createElement(SignUpStyleWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        id: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, \"Nome\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, \"Tag\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, \"whatsapp\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, \"CPF\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        id: \"oi\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }), React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        isOpen: this.state.edit,\n        scrollable: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, \" Editar Usu\\xE1rio \"), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, React.createElement(WrappedFormWIthSubmissionButton, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }), React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(InputGroup, {\n        compact: true,\n        style: {\n          marginBottom: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(Select, {\n        defaultValue: \"Tipo de Usu\\xE1rio\",\n        id: \"iu\",\n        onChange: this.canSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(Option, {\n        value: \"Root\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, \"Root\"), React.createElement(Option, {\n        value: \"Admin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, \"Admin\"))))), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        onClick: this.canSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, \" Adicionar \"), React.createElement(Button, {\n        onClick: function onClick() {\n          return _this3.setState({\n            edit: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, \" Cancelar \"))), React.createElement(Modal, {\n        isOpen: this.state.open,\n        scrollable: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, \" Adicionar Usu\\xE1rio \"), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(WrappedFormWIthSubmissionButton, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }), React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, React.createElement(InputGroup, {\n        compact: true,\n        style: {\n          marginBottom: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, React.createElement(Select, {\n        defaultValue: \"Tipo de Usu\\xE1rio\",\n        id: \"iu\",\n        onChange: this.canSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, React.createElement(Option, {\n        value: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, \"Root\"), React.createElement(Option, {\n        value: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, \"Admin\"))))), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        onClick: this.canSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, \" Adicionar \"), React.createElement(Button, {\n        onClick: function onClick() {\n          return _this3.setState({\n            open: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, \" Cancelar \")))), React.createElement(Button, {\n        onClick: function onClick() {\n          return _this3.setState({\n            open: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }, \"Adicionar Usu\\xE1rio\"));\n    }\n  }]);\n\n  return UserList;\n}(Component);\n\nexport { UserList as default };","map":{"version":3,"sources":["/home/leonardo_freitas/Desktop/Programação/MetasCertas/src/components/UsersForm/UserList.js"],"names":["React","Component","intlMessages","Modal","ModalHeader","ModalBody","ModalFooter","Container","Input","Checkbox","Button","notification","Form","SignUpStyleWrapper","ValidaCPF","WrappedFormWIthSubmissionButton","InputGroup","Select","SelectOption","FormItem","Item","UserList","state","open","disabled","edit","id","console","log","userInfo","method","mode","body","JSON","stringify","headers","Headers","fetch","then","foi","ok","setTimeout","window","location","reload","catch","err","response","json","info","a","document","getElementsByClassName","admin","checked","data","user","list","getElementById","tr","createElement","i","ativo","setAttribute","appendChild","nome","innerHTML","check","id_tipo","whatsapp","cpf","cpf_cnpj","email","addEventListener","setState","remove","id_usuario","Desabilitar","length","event","value","password","usuario","requestInfo","senha","text","tipo","validar","envia","ValidarCPF","Option","marginBottom","canSubmit"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,SAASC,KAAT,EAAgBC,WAAhB,EAA6BC,SAA7B,EAAwCC,WAAxC,EAAqDC,SAArD,QAAsE,YAAtE;AACA,SAASC,KAAT,EAAgBC,QAAhB,EAA0BC,MAA1B,QAAwC,MAAxC;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,SAASC,IAAT,QAAqB,MAArB;AACA,OAAOC,kBAAP,MAA+B,eAA/B;AACA,OAAOC,SAAP,MAAsB,oCAAtB;AACA,OAAOC,+BAAP,MAA4C,WAA5C;AACA,SAASC,UAAT,QAA2B,mCAA3B;AAEA,OAAOC,MAAP,IAAiBC,YAAjB,QAAqC,oCAArC;AAEA,IAAMC,QAAQ,GAAGP,IAAI,CAACQ,IAAtB;;IAIqBC,Q;;;;;AAGrB,sBAAa;AAAA;;AAAA;;AACT;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE,KADG;AAETC,MAAAA,QAAQ,EAAE,KAFD;AAGTC,MAAAA,IAAI,EAAE;AAHG,KAAb;AAFS;AAQZ;;;;gCAGWC,E,EAAG;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,EAAZ;AACA,UAAIG,QAAQ,GAAG;AACbC,QAAAA,MAAM,EAAE,MADK;AAEbC,QAAAA,IAAI,EAAC,MAFQ;AAGbC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBR,UAAAA,EAAE,EAAEA;AADe,SAAf,CAHO;AAMZS,QAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACpB,0BAAe;AADK,SAAZ;AANG,OAAf;AAWAC,MAAAA,KAAK,CAAC,+BAAD,EAAkCR,QAAlC,CAAL,CAAiDS,IAAjD,CAAuD,UAAAC,GAAG,EAAG;AAC3D,YAAGA,GAAG,CAACC,EAAP,EAAU;AACR7B,UAAAA,YAAY,CAAC,SAAD,EAAY,uBAAZ,CAAZ;AACA8B,UAAAA,UAAU,CAAC;AAAA,mBAAMC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAN;AAAA,WAAD,EAAiC,IAAjC,CAAV;AAGC;AACJ,OAPD,EAOGC,KAPH,CAOS,UAAAC,GAAG,EAAI;AACdnB,QAAAA,OAAO,CAACC,GAAR,CAAYkB,GAAZ;AACD,OATD;AAUC;;;wCAGgB;AAAA;;AAGfT,MAAAA,KAAK,CAAC,6BAAD,CAAL,CACCC,IADD,CACM,UAAAS,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,OADd,EAEKV,IAFL;AAAA;AAAA;AAAA;AAAA;AAAA,iCAEW,iBAAMW,IAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAEDC,kBAAAA,CAFC,GAEGC,QAAQ,CAACC,sBAAT,CAAgC,KAAhC,CAFH;AAGDC,kBAAAA,KAHC,GAGO,KAHP;;AAAA,uBAIFH,CAAC,CAACI,OAJA;AAAA;AAAA;AAAA;;AAAA,mDAKGD,KAAK,GAAG,IALX;;AAAA;AASHE,kBAAAA,IATG,GASIN,IAAI,CAACO,IATT;AAUDC,kBAAAA,IAVC,GAUMN,QAAQ,CAACO,cAAT,CAAwB,OAAxB,CAVN;;AAAA;AAcH,wBAAMC,EAAE,GAAGR,QAAQ,CAACS,aAAT,CAAuB,IAAvB,CAAX;;AAEA,wBAAGL,IAAI,CAACM,CAAD,CAAJ,CAAQC,KAAR,IAAiB,IAApB,EAAyB;AACvBH,sBAAAA,EAAE,CAACI,YAAH,CAAgB,OAAhB,EAAyB,SAAzB;AAID;;AAEDN,oBAAAA,IAAI,CAACO,WAAL,CAAiBL,EAAjB;AAEA,wBAAMM,IAAI,GAAGd,QAAQ,CAACS,aAAT,CAAuB,IAAvB,CAAb;AAEAK,oBAAAA,IAAI,CAACC,SAAL,GAAiBX,IAAI,CAACM,CAAD,CAAJ,CAAQI,IAAzB;AACAN,oBAAAA,EAAE,CAACK,WAAH,CAAeC,IAAf;AAGA,wBAAME,KAAK,GAAGhB,QAAQ,CAACS,aAAT,CAAuB,MAAvB,CAAd;AAEAO,oBAAAA,KAAK,CAACJ,YAAN,CAAmB,OAAnB,EAA4B,KAA5B;AACAI,oBAAAA,KAAK,CAACD,SAAN,GAAkBX,IAAI,CAACM,CAAD,CAAJ,CAAQO,OAA1B;AACAT,oBAAAA,EAAE,CAACK,WAAH,CAAeG,KAAf;AAEA,wBAAME,QAAQ,GAAGlB,QAAQ,CAACS,aAAT,CAAuB,IAAvB,CAAjB;AACAS,oBAAAA,QAAQ,CAACH,SAAT,GAAqBX,IAAI,CAACM,CAAD,CAAJ,CAAQQ,QAA7B;AACAV,oBAAAA,EAAE,CAACK,WAAH,CAAeK,QAAf;AAEA,wBAAMC,GAAG,GAAGnB,QAAQ,CAACS,aAAT,CAAuB,IAAvB,CAAZ;AACAU,oBAAAA,GAAG,CAACJ,SAAJ,GAAiBX,IAAI,CAACM,CAAD,CAAJ,CAAQU,QAAzB;AACAZ,oBAAAA,EAAE,CAACK,WAAH,CAAeM,GAAf;AAGA,wBAAME,KAAK,GAAGrB,QAAQ,CAACS,aAAT,CAAuB,IAAvB,CAAd;AACAY,oBAAAA,KAAK,CAACN,SAAN,GAAkBX,IAAI,CAACM,CAAD,CAAJ,CAAQW,KAA1B;AACAb,oBAAAA,EAAE,CAACK,WAAH,CAAeQ,KAAf;AAIA,wBAAM/C,IAAI,GAAG0B,QAAQ,CAACS,aAAT,CAAuB,GAAvB,CAAb;AACAnC,oBAAAA,IAAI,CAACsC,YAAL,CAAkB,OAAlB,EAA2B,UAA3B;AACAtC,oBAAAA,IAAI,CAACsC,YAAL,CAAkB,MAAlB,EAAyB,QAAzB;AACAtC,oBAAAA,IAAI,CAACsC,YAAL,CAAkB,IAAlB,EAAwBR,IAAI,CAACM,CAAD,CAAJ,CAAQnC,EAAhC;AACAD,oBAAAA,IAAI,CAACgD,gBAAL,CAAsB,OAAtB,EAA+B;AAAA,6BAAM,MAAI,CAACC,QAAL,CAAc;AAAEjD,wBAAAA,IAAI,EAAE;AAAR,uBAAd,CAAN;AAAA,qBAA/B;AAEAkC,oBAAAA,EAAE,CAACK,WAAH,CAAevC,IAAf;AAGA,wBAAMkD,MAAM,GAAGxB,QAAQ,CAACS,aAAT,CAAuB,GAAvB,CAAf;AACAe,oBAAAA,MAAM,CAACZ,YAAP,CAAoB,OAApB,EAA6B,oBAA7B;AACAY,oBAAAA,MAAM,CAACZ,YAAP,CAAoB,MAApB,EAA2B,QAA3B;AACAY,oBAAAA,MAAM,CAACZ,YAAP,CAAoB,IAApB,EAA0BR,IAAI,CAACM,CAAD,CAAJ,CAAQe,UAAlC;AAEAD,oBAAAA,MAAM,CAACF,gBAAP,CAAwB,OAAxB,EAAiC;AAAA,6BAAM,MAAI,CAACI,WAAL,CAAiBF,MAAM,CAACjD,EAAxB,CAAN;AAAA,qBAAjC;AAEAiC,oBAAAA,EAAE,CAACK,WAAH,CAAeW,MAAf;AApEG;;AAaP,uBAAQd,CAAR,GAAY,CAAZ,EAAeA,CAAC,IAAIN,IAAI,CAACuB,MAAzB,EAAiCjB,CAAC,EAAlC,EAAqC;AAAA;AA4DpC;;AAzEM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFX;;AAAA;AAAA;AAAA;AAAA,WA+EKhB,KA/EL,CA+EW,UAAAC,GAAG,EAAI;AACVnB,QAAAA,OAAO,CAACC,GAAR,CAAYkB,GAAZ;AACH,OAjFL;AAkFH;;;8BACQ,CAER;;;0BACKiC,K,EAAM;AAGV,UAAMd,IAAI,GAAGd,QAAQ,CAACO,cAAT,CAAwB,MAAxB,EAAgCsB,KAA7C;AACA,UAAMV,GAAG,GAAGnB,QAAQ,CAACO,cAAT,CAAwB,KAAxB,EAA+BsB,KAA3C;AACA,UAAMC,QAAQ,GAAG9B,QAAQ,CAACO,cAAT,CAAwB,UAAxB,EAAoCsB,KAArD;AACA,UAAMR,KAAK,GAAGrB,QAAQ,CAACO,cAAT,CAAwB,OAAxB,EAAiCsB,KAA/C;AACA,UAAMX,QAAQ,GAAGlB,QAAQ,CAACO,cAAT,CAAwB,UAAxB,EAAoCsB,KAArD;AACA,UAAME,OAAO,GAAG/B,QAAQ,CAACO,cAAT,CAAwB,SAAxB,EAAmCsB,KAAnD;AAGFrD,MAAAA,OAAO,CAACC,GAAR,CAAYmD,KAAZ;AACI,UAAMI,WAAW,GAAG;AAElBrD,QAAAA,MAAM,EAAE,MAFU;AAGlBC,QAAAA,IAAI,EAAC,MAHa;AAIlBC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBkC,UAAAA,OAAO,EAAEW,KADU;AAEnBR,UAAAA,QAAQ,EAAED,GAFS;AAGnBL,UAAAA,IAAI,EAAEA,IAHa;AAInBiB,UAAAA,OAAO,EAAEA,OAJU;AAKnBE,UAAAA,KAAK,EAAEH,QALY;AAMnBT,UAAAA,KAAK,EAAEA,KANY;AAOnBH,UAAAA,QAAQ,EAAEA;AAPS,SAAf,CAJY;AAajBlC,QAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACpB,0BAAe;AADK,SAAZ;AAbQ,OAApB;AAkBAC,MAAAA,KAAK,CAAC,gCAAD,EAAmC8C,WAAnC,CAAL,CAEC7C,IAFD,CAEM,UAAAS,QAAQ,EAAI;AAChB,YAAGA,QAAQ,CAACP,EAAZ,EAAe;AACbO,UAAAA,QAAQ,CAACsC,IAAT;AAEA,iBAAO1E,YAAY,CAAC,SAAD,EAAY,qBAAZ,CAAnB;AAED;AACF,OATD,EASGkC,KATH,CASS,UAAAC,GAAG,EAAG;AACb,eAAOnB,OAAO,CAACC,GAAR,CAAYkB,GAAZ,CAAP;AACD,OAXD;AAaD;;;8BAGSwC,I,EAAK;AAGf,UAAMrB,IAAI,GAAGd,QAAQ,CAACO,cAAT,CAAwB,MAAxB,EAAgCsB,KAA7C;AACA,UAAMV,GAAG,GAAGnB,QAAQ,CAACO,cAAT,CAAwB,KAAxB,EAA+BsB,KAA3C;AACA,UAAMC,QAAQ,GAAG9B,QAAQ,CAACO,cAAT,CAAwB,UAAxB,EAAoCsB,KAArD;AACA,UAAMR,KAAK,GAAGrB,QAAQ,CAACO,cAAT,CAAwB,OAAxB,EAAiCsB,KAA/C;AACA,UAAMX,QAAQ,GAAGlB,QAAQ,CAACO,cAAT,CAAwB,UAAxB,EAAoCsB,KAArD;AAEE,UAAMO,OAAO,GAAG,IAAIzE,SAAJ,EAAhB;AACA,UAAM0E,KAAK,GAAG,IAAInE,QAAJ,EAAd;;AACA,UAAGiD,GAAG,KAAK,EAAR,IAAcL,IAAI,KAAK,EAAvB,IAA4BgB,QAAQ,KAAK,EAAzC,IAA8CT,KAAK,KAAK,EAAxD,IAA8DH,QAAQ,KAAK,EAA9E,EAAiF;AAC/E,eAAO1D,YAAY,CAAC,SAAD,EAAY,0CAAZ,CAAnB;AACD,OAFD,MAGK,IAAG4E,OAAO,CAACE,UAAR,CAAmBnB,GAAnB,MAA4B,IAA/B,EAAoC;AAErCkB,QAAAA,KAAK,CAACA,KAAN,CAAYF,IAAZ;AACF5C,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AAED,OALI,MAKA;AACH,eAAOjC,YAAY,CAAC,OAAD,EAAS,cAAT,CAAnB;AAED;AACF;;;6BAES;AAAA;;AAEN,UAAM+E,MAAM,GAAGxE,YAAf;AAEE,aACI,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAO,QAAA,EAAE,EAAC,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,CADF,CADA,CADY,EAkBP;AAAK,QAAA,EAAE,EAAC,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAlBO,EAoBN,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,oBAAC,KAAD;AAAO,QAAA,MAAM,EAAE,KAAKI,KAAL,CAAWG,IAA1B;AAAgC,QAAA,UAAU,EAAE,IAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADD,EAEC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,+BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,EAEA,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,UAAD;AAAY,QAAA,OAAO,MAAnB;AAAoB,QAAA,KAAK,EAAE;AAAEkE,UAAAA,YAAY,EAAE;AAAhB,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACO,oBAAC,MAAD;AAAQ,QAAA,YAAY,EAAC,oBAArB;AAAuC,QAAA,EAAE,EAAC,IAA1C;AAA8C,QAAA,QAAQ,EAAE,KAAKC,SAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE,oBAAC,MAAD;AAAS,QAAA,KAAK,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF,CADP,CADA,CAFA,CAFD,EAgBC,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,SAAb;AAAuB,QAAA,OAAO,EAAE,KAAKA,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,EAGI,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAAClB,QAAL,CAAc;AAAEjD,YAAAA,IAAI,EAAE;AAAR,WAAd,CAAN;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHJ,CAhBD,CAFJ,EA4BC,oBAAC,KAAD;AAAO,QAAA,MAAM,EAAE,KAAKH,KAAL,CAAWC,IAA1B;AAAgC,QAAA,UAAU,EAAE,IAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADJ,EAEI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,+BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,EAEA,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,UAAD;AAAY,QAAA,OAAO,MAAnB;AAAoB,QAAA,KAAK,EAAE;AAAEoE,UAAAA,YAAY,EAAE;AAAhB,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACO,oBAAC,MAAD;AAAQ,QAAA,YAAY,EAAC,oBAArB;AAAuC,QAAA,EAAE,EAAC,IAA1C;AAA8C,QAAA,QAAQ,EAAE,KAAKC,SAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE,oBAAC,MAAD;AAAS,QAAA,KAAK,EAAC,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF,CADP,CADA,CAFA,CAFJ,EAeI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,SAAb;AAAuB,QAAA,OAAO,EAAE,KAAKA,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,EAGI,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAAClB,QAAL,CAAc;AAAEnD,YAAAA,IAAI,EAAE;AAAR,WAAd,CAAN;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHJ,CAfJ,CA5BD,CApBM,EAuEL,oBAAC,MAAD;AAAS,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACmD,QAAL,CAAc;AAAEnD,YAAAA,IAAI,EAAE;AAAR,WAAd,CAAN;AAAA,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAvEK,CADJ;AA8EH;;;;EA1RiCtB,S;;SAAjBoB,Q","sourcesContent":["import React, { Component } from 'react';\nimport intlMessages from '../utility/intlMessages';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Container } from 'reactstrap'\nimport { Input, Checkbox, Button } from 'antd';\nimport notification from '../../components/notification';\nimport { Form } from 'antd';\nimport SignUpStyleWrapper from './Users.style';\nimport ValidaCPF from '../../helpers/Validacoes/ValidaCPF'\nimport WrappedFormWIthSubmissionButton from './addUser';\nimport { InputGroup } from '../../components/uielements/input';\n\nimport Select, { SelectOption } from '../../components/uielements/select';\n\nconst FormItem = Form.Item;\n\n \n\nexport default class UserList extends Component {\n\n\nconstructor(){\n    super()\n    this.state = {\n        open: false,\n        disabled: false,\n        edit: false,\n    };\n    \n}\n\n\nDesabilitar(id){\n  console.log(id)\n  var userInfo = {\n    method: 'POST',\n    mode:'cors',\n    body: JSON.stringify({ \n      id: id\n     }),\n     headers: new Headers({\n      'Content-type':'application/json'\n    })\n  }\n\n  fetch('http://localhost:5000/disable', userInfo).then( foi =>{\n    if(foi.ok){\n      notification('warning', 'Usuário Desabilitado!')\n      setTimeout(() => window.location.reload(), 1000)\n        \n       \n      }\n  }).catch(err => {\n    console.log(err)\n  })\n  }\n  \n\ncomponentDidMount(){\n   \n\n    fetch('http://localhost:5000/users')\n    .then(response => response.json())\n        .then( async info => {\n\n          var a = document.getElementsByClassName(\"cha\")\n          var admin = false\n          if(a.checked){\n           return admin = true\n            \n            }\n          \n        let data = info.user;\n        const list = document.getElementById(\"table\")\n        \n            \n        for(var i = 0; i <= data.length; i++){\n            const tr = document.createElement('tr')\n\n            if(data[i].ativo == true){\n              tr.setAttribute('class', 'disable')\n              \n              \n\n            }\n            \n            list.appendChild(tr);\n            \n            const nome = document.createElement('td')\n            \n            nome.innerHTML = data[i].nome;\n            tr.appendChild(nome)\n            \n\n            const check = document.createElement('span');\n\n            check.setAttribute('class', 'tag')\n            check.innerHTML = data[i].id_tipo\n            tr.appendChild(check)\n\n            const whatsapp = document.createElement('td')\n            whatsapp.innerHTML = data[i].whatsapp;\n            tr.appendChild(whatsapp)\n\n            const cpf = document.createElement('td')\n            cpf.innerHTML =  data[i].cpf_cnpj;\n            tr.appendChild(cpf)\n            \n           \n            const email = document.createElement('td')\n            email.innerHTML = data[i].email;\n            tr.appendChild(email) \n            \n            \n            \n            const edit = document.createElement('i');\n            edit.setAttribute('class', 'ion-edit');\n            edit.setAttribute('type','button')\n            edit.setAttribute('id', data[i].id);\n            edit.addEventListener('click', () => this.setState({ edit: true }))\n            \n            tr.appendChild(edit)\n\n\n            const remove = document.createElement('i');\n            remove.setAttribute(\"class\", \"ion-android-delete\")\n            remove.setAttribute('type','button')\n            remove.setAttribute(\"id\", data[i].id_usuario);\n            \n            remove.addEventListener(\"click\", () => this.Desabilitar(remove.id))\n            \n            tr.appendChild(remove)\n            \n            \n            \n            \n        }\n      \n            \n        })\n        .catch(err => {\n            console.log(err)\n        })\n}\ndeletar(){\n\n}\nenvia(event){\n  \n\n  const nome = document.getElementById('nome').value\n  const cpf = document.getElementById('cpf').value\n  const password = document.getElementById('password').value\n  const email = document.getElementById('email').value\n  const whatsapp = document.getElementById('whatsapp').value\n  const usuario = document.getElementById('usuario').value\n\n\nconsole.log(event)\n    const requestInfo = {\n      \n      method: 'POST',\n      mode:'cors',\n      body: JSON.stringify({\n        id_tipo: event,\n        cpf_cnpj: cpf,\n        nome: nome,\n        usuario: usuario,\n        senha: password,\n        email: email,\n        whatsapp: whatsapp,\n       }),\n       headers: new Headers({\n        'Content-type':'application/json'\n      })\n    }\n  \n    fetch('http://localhost:5000/addAdmin', requestInfo)\n    \n    .then(response => {\n      if(response.ok){\n        response.text()\n        \n        return notification('success', 'Usuário Cadastrado!')\n       \n      }\n    }).catch(err =>{\n      return console.log(err)\n    })\n    \n  }\n\n\n  canSubmit(tipo){\n\n  \n  const nome = document.getElementById('nome').value\n  const cpf = document.getElementById('cpf').value\n  const password = document.getElementById('password').value\n  const email = document.getElementById('email').value\n  const whatsapp = document.getElementById('whatsapp').value\n\n    const validar = new ValidaCPF();\n    const envia = new UserList()\n    if(cpf === '' || nome === ''|| password === ''|| email === '' || whatsapp === ''){\n      return notification('warning', 'Todos os campos devem estar preenchidos!')\n    }\n    else if(validar.ValidarCPF(cpf) === true){\n\n        envia.envia(tipo)\n      window.location.reload()\n\n    }else{\n      return notification('error','CPF Inválido')\n\n    }\n  }\n  \n    render(){\n\n      const Option = SelectOption;\n    \n        return ( \n            <SignUpStyleWrapper>\n<div>\n<table id=\"table\">\n  <tr>\n    <th >Nome</th>\n    <th>Tag</th>\n    <th >whatsapp</th>\n    <th >CPF</th>\n    <th >Email</th>\n    <th></th>\n   \n    \n  </tr>\n  \n  \n</table>\n      \n      </div>\n     <div id='oi'></div>\n\n      <Container> \n\n          <Modal isOpen={this.state.edit} scrollable={true}>\n           <ModalHeader > Editar Usuário </ModalHeader>\n           <ModalBody > \n           <WrappedFormWIthSubmissionButton/>\n           <Form >\n           <InputGroup compact style={{ marginBottom: '15px' }}>   \n                  <Select defaultValue=\"Tipo de Usuário\" id='iu'onChange={this.canSubmit}>\n                    <Option value=\"Root\">Root</Option>             \n                    <Option  value=\"Admin\">Admin</Option>\n                  </Select>\n                   \n\n              </InputGroup>    \n                \n           </Form>\n           </ModalBody>\n           <ModalFooter > \n               <Button type='primary' onClick={this.canSubmit}> Adicionar </Button>\n               \n               <Button onClick={() => this.setState({ edit: false })}> Cancelar </Button>\n           </ModalFooter>\n       </Modal>\n\n\n\n\n       <Modal isOpen={this.state.open} scrollable={true}>\n           <ModalHeader > Adicionar Usuário </ModalHeader>\n           <ModalBody > \n           <WrappedFormWIthSubmissionButton/>\n           <Form >\n           <InputGroup compact style={{ marginBottom: '15px' }}>   \n                  <Select defaultValue=\"Tipo de Usuário\" id='iu'onChange={this.canSubmit}>\n                    <Option value=\"1\">Root</Option>             \n                    <Option  value=\"2\">Admin</Option>\n                  </Select>\n                   \n\n              </InputGroup>   \n                </Form>\n           </ModalBody>\n           <ModalFooter > \n               <Button type='primary' onClick={this.canSubmit}> Adicionar </Button>\n               \n               <Button onClick={() => this.setState({ open: false })}> Cancelar </Button>\n           </ModalFooter>\n       </Modal>\n\n       </Container>\n       <Button  onClick={() => this.setState({ open: true })}>Adicionar Usuário</Button>\n      </SignUpStyleWrapper>\n      \n        \n        )\n                    \n    }\n}"]},"metadata":{},"sourceType":"module"}